# Page Rank Metrics Collector

## Introduction

This application is designed to collect page rank metrics for specified domains on a daily basis and expose the collected data through the app's API. It utilizes the Open Page Rank API to gather information for domains listed in a file.

## Instructions

1. **Configure Database**

    - Enter your MySQL credentials in the `.env` file.
    - Run the following command to create the required database table:
      ```bash
      php artisan migrate
      ```

2. **Obtain API Key**

    - Register at [Open Page Rank](https://www.domcop.com/openpagerank/) to get free API access.
    - Set the API key in the `.env` file under `OPEN_PAGE_RANK_API_KEY`. As of today, the key value is 'https://openpagerank.com/api/v1.0/getPageRank'.

3. **Configure API Key**

    - Ensure the `OPEN_PAGE_RANK_API_KEY` in the `.env` file is set correctly.

4. **Set Remote JSON File URL**

    - Provide the URL of the remote JSON file containing the domain list in the `.env` file under `DOMAIN_LIST_REMOTE_JSON_FILE`.
    - If your domain file is hosted on GitHub, use the raw link format, e.g., `https://raw.githubusercontent.com/user/project/branch/filename.json`.
    - The default key for domain names is set to "rootDomain". You can customize this key in the `DomainListFromRemoteJsonService` class.

5. **Schedule Data Collection**

    - The application uses Laravel's scheduler to collect page data daily. Configure the interval in Laravel's schedule.
    - Add the following command to your serverâ€™s cron job to execute it:
      ```bash
      cd /path-to-your-project && php artisan schedule:run >> /dev/null 2>&1
      ```
    - For manual data updates, use the URL `/manual-import`.

6. **Configure API Access**

    - Set the app's API key in the `.env` file under `APP_API_KEY`.
    - External applications must include this header in their requests to access the app's API:
      ```plaintext
      Authorization: your-api-key
      ```
    - An empty string can be used if no key is set.

7. **Access Domain Data**

    - The list of domains with ranks is accessible via the following URL: `/api/domains`.



#read me above is generated by chat gpt from the text below :)
#Introduction

This is app is made to collect page rank metrics for specified domains on daily basis and 
show collected data by using this app's API. 
It uses Open Page Rank API to collect information for domains that are listed in file.

#Instructions

1. Enter mysql credentials in .env and run php artisan migrate to create required DB table
2. Register on https://www.domcop.com/openpagerank/ to get free API access and key to OPEN_PAGE_RANK_API_KEY in .env file 
3. Set value for OPEN_PAGE_RANK_API_KEY in .env, as of today it is 'https://openpagerank.com/api/v1.0/getPageRank' 
4. Set a link to remote json file in DOMAIN_LIST_REMOTE_JSON_FILE in .env
   If your domain file is on github then use a raw link format, eg.: 
   'https://raw.githubusercontent.com/user/project/branch/filename.json'.
   Default key for domain name is set to "rootDomain", you can your own in DomainListFromRemoteJsonService class.
5. App uses laravel's schedule to collect page data daily. The interval of day is set in Laravel's schedule.
   Add this command to your servers cronjob to make it run: 
   'cd /path-to-your-project && php artisan schedule:run >> /dev/null 2>&1'
   For manual data update use this url /manual-import
6. Set app's API key to APP_API_KEY variable in .env. External applications must send 
   request with this header to access app's API: 'Authorization' => 'your-api-key'.
   Empty string could be used if no key is set.
7. Domains list with ranks is accessible by this url: /api/domains
